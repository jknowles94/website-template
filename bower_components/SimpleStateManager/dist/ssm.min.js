/*! SimpleStateManager | license: MIT | version: 2.4.1 | build date: 2015-05-16 */
!function(a,b,c,d){"function"==typeof define&&define.amd?define(function(){return d(a,b,c)}):"object"==typeof exports?module.exports=d:a.ssm=d(a,b,c)}(window,document,void 0,function(a,b,c){"use strict";var d=!1,e={},f=[],g=0,h=[],i=10,j=null,k=[],l=function(){return"function"==typeof a.matchMedia&&"undefined"!=typeof a.matchMedia("(width: 100px)").addListener?!0:!1}(),m=function(){clearTimeout(j),j=setTimeout(n,i)},n=function(){g=q(),o(g)},o=function(a){for(var b=f.length,c=k.length,d=[],g=[],i=[],j=[],l=!0,m=e,n=0;b>n;n++){l=!0,m.state=f[n],m.browserWidth=a;for(var o=0;c>o;o++)if("undefined"!=typeof m.state[k[o].name]&&(m.callback=k[o].test,m.callback()===!1)){l=!1;break}l?(j=j.concat(f[n].onFirstRun),f[n].onFirstRun=[],u(h,f[n])?g=g.concat(f[n].onResize):(h.push(f[n]),i=i.concat(f[n].onEnter))):u(h,f[n])&&(d=d.concat(f[n].onLeave),h=v(h,f[n]))}w(j),w(d),w(i),w(g)};e.browserResize=o,e.getBrowserWidth=function(){return g},e.addState=function(a){var b={id:p(),minWidth:0,maxWidth:999999,onEnter:[],onLeave:[],onResize:[],onFirstRun:[]};return a=r(b,a),"function"==typeof a.onEnter&&(a.onEnter=[a.onEnter]),"function"==typeof a.onLeave&&(a.onLeave=[a.onLeave]),"function"==typeof a.onResize&&(a.onResize=[a.onResize]),"function"==typeof a.onFirstRun&&(a.onFirstRun=[a.onFirstRun]),f.push(a),f=s(f,"minWidth"),this},e.updateState=function(a,b){for(var c=f.length-1;c>=0;c--)f[c].id===a&&(f[c]=r(f[c],b));return this},e.removeState=function(a){for(var b=f.length-1;b>=0;b--)f[b].id===a&&f.splice(b,1);return this},e.removeStates=function(a){for(var b=a.length-1;b>=0;b--)e.removeState(a[b]);return this},e.removeAllStates=function(){return f=h=[],this},e.addStates=function(a){for(var b=a.length-1;b>=0;b--)e.addState(a[b]);return this},e.getStates=function(a){var b=null,c=[];if("undefined"==typeof a)return f;b=a.length;for(var d=0;b>d;d++)c.push(t(a[d]));return c},e.addConfigOption=function(a){var b={name:"",test:null};a=r(b,a),""!==a.name&&null!==a.test&&k.push(a)},e.getConfigOption=function(a){if("string"!=typeof a)return k;for(var b=k.length-1;b>=0;b--)if(k[b].name===a)return k[b]},e.removeConfigOption=function(a){for(var b=k.length-1;b>=0;b--)k[b].name===a&&k.splice(b,1)},e.isActive=function(a){for(var b=0;b<h.length;b++)if(h[b].id===a)return!0;return!1},e.getCurrentStates=function(){return h},e.setResizeTimeout=function(a){i=a},e.getResizeTimeout=function(){return i},e.ready=function(){return g=q(),d===!1&&(a.attachEvent?a.attachEvent("onresize",m):a.addEventListener&&a.addEventListener("resize",m,!0),d=!0),o(g),this};var p=function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;10>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},q=function(){var c=0;return l&&(a.matchMedia("(width:"+a.innerWidth+"px)").matches?c=a.innerWidth:a.matchMedia("(width:"+a.innerWidth+"px)").matches?c=a.outerWidth:a.matchMedia("(width:"+b.body.clientWidth+"px)").matches&&(c=b.body.clientWidth)),0===c&&(c="number"==typeof b.body.clientWidth?b.body.clientWidth:"number"==typeof a.innerWidth?a.innerWidth:b.documentElement&&b.documentElement.clientWidth?b.documentElement.clientWidth:b.innerWidth),c},r=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c},s=function(a,b){return a.sort(function(a,c){var d=a[b],e=c[b];return e>d?-1:d>e?1:0})},t=function(a){for(var b=f.length-1;b>=0;b--)if(f[b].id===a)return f[b]},u=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0},v=function(a,b){for(var c=a.length,d=0;c>d;d++)a[d]===b&&a.splice(d,1);return a},w=function(a){for(var b=a.length,c=0;b>c;c++)a[c]()};return e.addConfigOption({name:"minWidth",test:function(){return"number"==typeof this.state.minWidth&&this.state.minWidth<=this.browserWidth?!0:!1}}),e.addConfigOption({name:"maxWidth",test:function(){return"number"==typeof this.state.maxWidth&&this.state.maxWidth>=this.browserWidth?!0:!1}}),e});